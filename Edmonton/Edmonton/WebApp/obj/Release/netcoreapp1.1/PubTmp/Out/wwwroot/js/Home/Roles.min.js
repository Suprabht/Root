var Roles=function(){function n(){if(n.instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");n.instance=this}return n.getInstance=function(){return n.instance},n.prototype.init=function(n,t){$(".left_pane").load("/Home/RolesTree/?_="+Math.round(Math.random()*1e4),function(){$("#jstree").jstree("destroy");$("#jstree").jstree().on("ready.jstree",function(){$(".jstree-anchor").bind("click",function(){roles.addUser($(this).parent().attr("roleId"))});n===""?$(".jstree-anchor").first().click():($(".roleli[roleId="+t+"]").children().first().click(),$(".userli[userId="+n+"]").children()[1].click())})})},n.prototype.callUser=function(n){$(".right_pane").load("/Home/UserDetails/"+n+"?_="+Math.round(Math.random()*1e4),function(){$("#tabs").tabs()})},n.prototype.addUser=function(n){$(".right_pane").load("/Home/AddUser/"+n+"?_="+Math.round(Math.random()*1e4))},n.prototype.addUserToDb=function(){var n=$("#id").val(),t=$("#name").val(),i=$("#email").val(),r=$("#phone").val(),u=$("#alternateEmail").val(),f=$("#address").val(),e=$("#alternetPhone").val(),o=$("#bloodGroup").val(),s=$("#roleId").val();$.ajax({type:"POST",url:"/Home/AddUserDetails",dataType:"json",data:{Id:n,Name:t,Email:i,Phone:r,AlternateEmail:u,Address:f,AlternetPhone:e,BloodGroup:o,RoleId:s},cache:!1,success:function(n){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been added.");roles.init(n.userId,n.roleId)},error:function(n){alert(n.status);alert("Error: "+n.responseText)}})},n.prototype.updateUser=function(){var n=$("#id").val(),t=$("#name").val(),i=$("#email").val(),r=$("#phone").val(),u=$("#alternateEmail").val(),f=$("#address").val(),e=$("#alternetPhone").val(),o=$("#bloodGroup").val();$.ajax({type:"POST",url:"/Home/UpdateUserDetails",dataType:"json",data:{Id:n,Name:t,Email:i,Phone:r,AlternateEmail:u,Address:f,AlternetPhone:e,BloodGroup:o},cache:!1,success:function(){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been updated.")},error:function(n){alert(n.status);alert("Error: "+n.responseText)}})},n}(),roles;Roles.instance=new Roles;roles=Roles.getInstance();roles.init("","");$(function(){});