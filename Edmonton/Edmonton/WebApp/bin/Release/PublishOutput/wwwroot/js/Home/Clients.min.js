Clients=function(){};Clients.prototype.init=function(){var r=document.createElement("table"),n,t;r.id="grid";$("#gridContainer").append(r);n=document.createElement("div");n.id="gridPager";$("#gridContainer").append(n);t={};$.getJSON("/Home/Program1",function(n){for(i=0;i<n.rows.length;i++)for(i=0;i<n.rows.length;i++)t[n.rows[i].programId]=n.rows[i].programCode+" : "+n.rows[i].programName+" - "+n.rows[i].programCategoryAbbreviation+" : "+n.rows[i].programCategoryName;$.getJSON("/Home/Client",function(n){clients.loadGrid(n,t)})})};Clients.prototype.loadGrid=function(n,t){var i=$("#grid");i.jqGrid({colModel:[{label:"Client Id",name:"clientId",index:"clientId",width:"110",editable:!1,editrules:{required:!0},key:!0},{label:"Client Name",name:"clientName",index:"clientName",width:"210",editable:!0,editrules:{required:!0}},{label:"Client Address",name:"clientAddress",index:"clientAddress",width:"350",editable:!0,editrules:{required:!0}},{label:"Longitude",name:"long",index:"long",width:"150",editable:!0,editrules:{required:!0}},{label:"Latitude",name:"latt",index:"latt",width:"150",editable:!0,editrules:{required:!0}},{label:"Program",name:"programId",index:"programId",width:"150",editable:!0,editrules:{required:!0},edittype:"select",editoptions:{value:t}},{label:"Link",name:"link",width:"150",editable:!1,formatter:clients.methodFormatter}],pager:"#gridPager",regional:"en",datatype:"jsonstring",datastr:n,jsonReader:{repeatitems:!1},rowNum:n.records,viewrecords:!0,caption:"Client",height:"auto",ignoreCase:!0});i.navGrid("#gridPager",{edit:!0,add:!0,del:!0,search:!1,refresh:!1,view:!1,position:"left",cloneToTop:!1},{url:"/Home/Client",editCaption:"The Edit Dialog",recreateForm:!0,checkOnUpdate:!1,checkOnSubmit:!1,closeAfterEdit:!0,reloadAfterSubmit:!0,mtype:"POST",modal:!0,jqModal:!0,serializeEditData:function(n){return{clientId:parseInt(n.id),clientName:n.clientName,clientAddress:n.clientAddress,long:n.long,latt:n.latt}},afterSubmit:function(){return clients.unLoadGrid(),clients.init(),!0},errorTextFormat:function(n){return"Error: "+n.responseText}},{url:"/Home/Client",closeAfterAdd:!0,recreateForm:!0,mtype:"PUT",checkOnUpdate:!1,checkOnSubmit:!1,clearAfterAdd:!0,reloadAfterSubmit:!1,afterSubmit:function(){return clients.unLoadGrid(),clients.init(),$(".ui-icon-closethick").trigger("click"),!0},errorTextFormat:function(n){return"Error: "+n.responseText}},{url:"/Home/Client",mtype:"DELETE",editCaption:"The Edit Dialog",recreateForm:!0,checkOnUpdate:!1,checkOnSubmit:!1,closeAfterDelete:!0,reloadAfterSubmit:!0,modal:!0,jqModal:!0,afterSubmit:function(){return clients.unLoadGrid(),clients.init(),$(".ui-icon-closethick").trigger("click"),!0},errorTextFormat:function(n){return"Error: "+n.responseText}})};Clients.prototype.methodFormatter=function(n,t,i){return'<a href="'+i.link+'" target="_blank" > Link <\/a>'};Clients.prototype.unLoadGrid=function(){$("#grid").jqGrid("clearGridData");$("#grid").remove();$("#gridPager").remove();$("#gridContainer").empty()};var clients=new Clients;clients.init();