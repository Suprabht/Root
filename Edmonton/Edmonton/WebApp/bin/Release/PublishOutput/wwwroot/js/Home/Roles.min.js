var Roles=function(){function n(){if(n.instance)throw new Error("Error: Instantiation failed: Use SingletonDemo.getInstance() instead of new.");n.instance=this}return n.getInstance=function(){return n.instance},n.prototype.init=function(n,t){$(".left_pane").load("/Home/RolesTree/?_="+Math.round(Math.random()*1e4),function(){$("#jstree").jstree("destroy");$("#jstree").jstree().on("ready.jstree",function(){$(".jstree-anchor").bind("click",function(){roles.addUser($(this).parent().attr("roleId"))});n===""?$(".jstree-anchor").first().click():($(".roleli[roleId="+t+"]").children().first().click(),$(".userli[userId="+n+"]").children()[1].click())})})},n.prototype.callUser=function(n){$(".right_pane").load("/Home/UserDetails/"+n+"?_="+Math.round(Math.random()*1e4),function(){$("#tabs").tabs()})},n.prototype.addUser=function(n){$(".right_pane").load("/Home/AddUser/"+n+"?_="+Math.round(Math.random()*1e4))},n.prototype.addUserToDb=function(){var n=$("#id").val(),t=$("#name").val(),i=$("#secondName").val(),r=$("#email").val(),u=$("#phone").val(),f=$("#alternateEmail").val(),e=$("#address").val(),o=$("#alternetPhone").val(),s=$("#bloodGroup").val(),h=$("#roleId").val(),c=$("#middleName").val(),l=$("#employeeNumber").val(),a=$("#code").val(),v=$("#compensationTypeSelect").val(),y=$("#rate").val();$.ajax({type:"POST",url:"/Home/AddUserDetails",dataType:"json",data:{Id:n,Name:t,SecondName:i,Email:r,Phone:u,AlternateEmail:f,Address:e,AlternetPhone:o,BloodGroup:s,RoleId:h,MiddleName:c,EmployeeNumber:l,Code:a,CompensationType:v,Rate:y},cache:!1,success:function(n){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been added.");roles.init(n.userId,n.roleId)},error:function(n){alert(n.status);alert("Error: "+n.responseText)}})},n.prototype.updateUser=function(){var n=$("#id").val(),t=$("#name").val(),i=$("#secondName").val(),r=$("#email").val(),u=$("#phone").val(),f=$("#alternateEmail").val(),e=$("#address").val(),o=$("#alternetPhone").val(),s=$("#bloodGroup").val(),h=$("#middleName").val(),c=$("#employeeNumber").val(),l=$("#code").val(),a=$("#compensationTypeSelect").val(),v=$("#rate").val();$.ajax({type:"POST",url:"/Home/UpdateUserDetails",dataType:"json",data:{Id:n,Name:t,SecondName:i,Email:r,Phone:u,AlternateEmail:f,Address:e,AlternetPhone:o,BloodGroup:s,MiddleName:h,EmployeeNumber:c,Code:l,CompensationType:a,Rate:v},cache:!1,success:function(){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been updated.")},error:function(n){alert(n.status);alert("Error: "+n.responseText)}})},n.prototype.deleteUser=function(){var t=confirm("Are you sure you want to delete!"),n;t==!0&&(n=$("#id").val(),$.ajax({type:"POST",url:"/Home/DeleteUserDetails",dataType:"json",data:{Id:n},cache:!1,success:function(){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been delete.");roles.init("","")},error:function(n){alert(n.status);alert("Error: "+n.responseText)}}))},n.prototype.resetPassword=function(n){var t=confirm("Do you want to reset Password!");t==!0&&$.ajax({type:"POST",url:"/Account/ForgetPasswordByUserEmail",dataType:"json",data:{userEmail:n},cache:!1,success:function(){$("#alertDiv").show().html("<strong>Success!<\/strong> User has been sent mail.")},error:function(n){alert(n.status);alert("Error: "+n.responseText)}})},n}(),roles;Roles.instance=new Roles;roles=Roles.getInstance();roles.init("","");$(function(){});